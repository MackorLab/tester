
<!DOCTYPE html>
<html>
<head>
    <title>Генерация картинки</title>
    <style>
        .result-img {
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <h1>Генерация картинки</h1>
    
    <input type="text" id="input-text" placeholder="Введите запрос">
    <button id="submit-btn">Отправить</button>
    
    <div id="result-container">
        <!-- Здесь будет отображаться полученная картинка -->
    </div>

    <script>
  

        
        async function query(data) {
         const apiKey = "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"; // замените на ваш ключ авторизации
            
            const response = await fetch(
                "https://api-inference.huggingface.co/models/stabilityai/stable-diffusion-xl-base-0.9",
                {
                    headers: { "Authorization": `Bearer ${apiKey}` },
                    method: "POST",
                    body: JSON.stringify(data),
                }
            );
            const result = await response.blob();
            return result;
        }

        document.getElementById("submit-btn").addEventListener("click", async () => {
            const inputText = document.getElementById("input-text").value;
            const queryData = { "inputs": inputText };

            const response = await query(queryData);
            const imageURL = URL.createObjectURL(response);

            const resultContainer = document.getElementById("result-container");
            resultContainer.innerHTML = `<img class="result-img" src="${imageURL}" alt="Generated Image">`;
        });
    </script>
</body>
</html>

