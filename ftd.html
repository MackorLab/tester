<!DOCTYPE html>
<html>
  <head>
    <title>Text-to-Image Generation</title>
  </head>
  <body>
    <h1>Text-to-Image Generation</h1>
    <input type="text" id="textInput" placeholder="Enter your text prompt" />
    <button onclick="generateImage()">Generate Image</button>
    <div id="imageContainer"></div>

    <script>
      function generateImage() {
        const stabilityApiKey = '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';
        const baseUrl = 'https://api.stability.ai';
        const url = `${baseUrl}/v1/generation/text-to-image`;

        const textInput = document.getElementById('textInput').value;
        const height = 512;
        const width = 512;
        const samples = 1;
        const steps = 50;

        fetch(url, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Accept': 'image/png',
            'Authorization': `Bearer ${stabilityApiKey}`
          },
          body: JSON.stringify({
            height,
            width,
            text_prompts: [
              { text: textInput }
            ],
            samples,
            steps
          })
        })
          .then(response => response.blob())
          .then(blob => {
            const imgElement = document.createElement('img');
            imgElement.src = URL.createObjectURL(blob);
            document.getElementById('imageContainer').innerHTML = '';
            document.getElementById('imageContainer').appendChild(imgElement);
          })
          .catch(error => {
            console.error(error);
          });
      }
    </script>
  </body>
</html>
