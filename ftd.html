<!DOCTYPE html>
<html>
  <head>
    <title>Text-to-Image Generation</title>
  </head>
  <body>
    <h1>Text-to-Image Generation</h1>
    <input type="text" id="textInput" placeholder="Enter your text prompt" />
    <button onclick="generateImage()">Generate Image</button>
    <div id="imageContainer"></div>

    <script>
      function generateImage() {
        const stabilityApiKey = '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';
        const baseUrl = 'https://api.stability.ai';
        const url = `${baseUrl}/v1/generation/text-to-image`;

        const textInput = document.getElementById('textInput').value;
        const height = 512;
        const width = 512;
        const samples = 1;
        const steps = 50;

        fetch(url, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Accept': 'image/png',
            'Authorization': `Bearer ${stabilityApiKey}`
          },
          body: JSON.stringify({
            height,
            width,
            text_prompts: [
              { text: textInput }
            ],
            samples,
            steps
          })
        })
          .then(response => response.blob())
          .then(blob => {
            const imgElement = document.createElement('img');
            imgElement.src = URL.createObjectURL(blob);
            document.getElementById('imageContainer').innerHTML = '';
            document.getElementById('imageContainer').appendChild(imgElement);
          })
          .catch(error => {
            console.error(error);
          });
      }
    </script>
  </body>
</html>





<!DOCTYPE html>
<html>
<head>
	<title>Генератор изображений</title>
	<style>
		.image-container {
			margin-top: 20px;
		}
	</style>
</head>
<body>
	<h1>Генератор изображений</h1>
	<input type="text" id="inputText" placeholder="Введите текст">
	<button onclick="generateImage()">Сгенерировать изображение</button>
	<div id="imageContainer" class="image-container"></div>

	<script>
		async function query(data) {
			const height = 512;
			const width = 512;
			const samples = 1;
			const steps = 50;

			data = {
				...data,
				height,
				width,
				samples,
				steps,
			};

			const response = await fetch(

        const stabilityApiKey = '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';
        
				"https://api-inference.huggingface.co/models/stabilityai/stable-diffusion-xl-base-1.0",
				{
					headers: Bearer ${stabilityApiKey},
					method: "POST",
					body: JSON.stringify(data),
				}
			);
			const result = await response.blob();
			return result;
		}

		async function generateImage() {
			const inputText = document.getElementById("inputText").value;
			const requestData = { "inputs": inputText };

			try {
				const imageBlob = await query(requestData);
				const imageURL = URL.createObjectURL(imageBlob);

				const imageElement = document.createElement("img");
				imageElement.src = imageURL;

				const imageContainer = document.getElementById("imageContainer");
				imageContainer.innerHTML = "";
				imageContainer.appendChild(imageElement);
			} catch (error) {
				console.error("Ошибка при запросе к API Stability.ai");
			}
		}
	</script>
</body>
</html>







