!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){const n=document.getElementById("darkMode_H_T");var o;window.addEventListener("DOMContentLoaded",(function(){b.innerHTML="",H()})),n.addEventListener("change",(function(){b.innerHTML="",H()}));const a=new URL(window.location.href).searchParams.get("key"),l=$("#apiKey");function c(e){localStorage.setItem("apiKey",e),o=e}a?(l.val(a),c(a)):function(){const e=localStorage.getItem("apiKey");e&&(l.val(e),o=e)}(),l.on("input",()=>{c(l.val())}),l.attr("type","password");var s="###";var d,r=localStorage.getItem("savedInput");r&&(document.getElementById("frazSend").value=r),document.getElementById("frazSend").addEventListener("input",(function(){var e;e=document.getElementById("frazSend").value,localStorage.setItem("savedInput",e),document.getElementById("frazSendOut").textContent=this.value,s=this.value,console.log(s)})),window.addEventListener("load",(function(){var e=localStorage.getItem("savedInput");e?(document.getElementById("frazSend").value=e,document.getElementById("frazSendOut").textContent=e,s=e):(document.getElementById("frazSend").value=s,document.getElementById("frazSendOut").textContent=s)}));const i=document.querySelector("#languageSelect"),u=()=>{localStorage.setItem("language",i.value),d=i.value,console.log(d)};(()=>{const e=localStorage.getItem("language");e&&(i.value=e,d=e,console.log(d))})(),u(),i.addEventListener("change",()=>{u()});const m=document.querySelector("#formControlTemp"),g=document.querySelector("#rangeTemp"),p=document.querySelector("#formControlTop_P"),y=document.querySelector("#rangeTop_P"),v=()=>{localStorage.setItem("rangeValue",m.value),localStorage.setItem("rangeValue2",p.value)};(()=>{const e=localStorage.getItem("rangeValue"),t=localStorage.getItem("rangeValue2");e&&(m.value=e,g.textContent=e),t&&(p.value=t,y.textContent=t)})(),m.addEventListener("input",()=>{g.textContent=m.value,v()}),p.addEventListener("input",()=>{y.textContent=p.value,v()});const f=document.querySelector("#stopWordInput"),E=document.querySelector("#stopWordValue"),I=localStorage.getItem("stopWord");if(I)f.value=I,E.textContent=I;else{const e=f.value;E.textContent=e}f.addEventListener("input",()=>{const e=f.value;E.textContent=e,localStorage.setItem("stopWord",e)});const h=document.querySelector("#fontSelect"),S=localStorage.getItem("selectedFont");S&&(h.value=S,document.body.style.fontFamily=S),h.addEventListener("change",(function(){const e=h.value;document.body.style.fontFamily=e,localStorage.setItem("selectedFont",e)}));const b=document.getElementById("chat"),B=document.getElementById("messageInput"),k=document.getElementById("sendButton"),x=document.getElementById("outProm"),C=document.getElementById("basePageCount");document.createElement("div");let _=[];const L=document.querySelector("#maxLemInput"),P=document.querySelector("#maxLemValue"),T=localStorage.getItem("maxLem");T?(L.value=T,P.textContent=T):P.textContent=L.value,L.addEventListener("input",()=>{P.textContent=L.value,localStorage.setItem("maxLem",L.value)});const F="https://i.ibb.co/n0S7W97/y1-W5jf-U4-Qc-M.jpg";function w(e,t,n,o=!1){const a=document.createElement("div");a.className="message "+t;const l=document.createElement("div");l.className="message-card";const c=document.createElement("img");c.className="avatar",c.src=n?"https://i.ibb.co/QJgmw60/GPT.gif":F,c.alt=n?"Assistant Avatar":"User Avatar",l.appendChild(c);const s=document.createElement("div");s.className="message-content";const d=document.createElement("p");if(d.className="message-text",s.appendChild(d),l.appendChild(s),a.appendChild(l),b.appendChild(a),n){const t=e.replace(/\\n/g,"\n").replace(/\*\*([^*]+)\*\*/g,'<span class="bold">$1</span>').replace(/(?:\r\n|\r|\n)/g,"<br>");o?d.innerHTML=t:(d.innerHTML=t,d.querySelectorAll(".bold").forEach(e=>{e.style.fontWeight="bold"}))}else d.innerHTML=e;M()}function A(e,t,n,o=!1){const a=document.createElement("div");a.className="message "+t;const l=document.createElement("div");l.className="message-card";const c=document.createElement("img");c.className="avatar",c.src=n?"https://i.ibb.co/QJgmw60/GPT.gif":F,c.alt=n?"Assistant Avatar":"User Avatar",l.appendChild(c);const s=document.createElement("div");s.className="message-content";const d=document.createElement("p");if(d.className="message-text",s.appendChild(d),l.appendChild(s),a.appendChild(l),b.appendChild(a),n){const t=e.replace(/\\n/g,"\n").replace(/\*\*([^*]+)\*\*/g,"$1").replace(/(?:\r\n|\r|\n)/g,"\n");d.textContent=t}else d.textContent=e;M()}var O;function M(){b.scrollTop=b.scrollHeight}async function N(){const e=document.getElementById("messageInput"),t=document.getElementById("maxLemInput"),a=document.getElementById("chat"),l=JSON.parse(localStorage.getItem("basePage"))||[],c=e.value.trim();let s=[];const d=2*parseInt(t.value);if(e.value="",e.style.height="auto",""===c)return;l.push({role:"user",content:c}),0===d||0===l.length?s=[{role:"user",content:c}]:d>0&&d<=l.length?s=l.slice(-d):d>l.length&&(s=l),n.checked?A(c,"user",!1):w(c,"user",!1);const r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o},body:JSON.stringify({model:"gpt-3.5-turbo-16k-0613",messages:s,temperature:0,max_tokens:2e3})}),i=await r.json();console.log("–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:",s),console.log("–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:",i);const u=i.choices[0].message.content;l.push({role:"assistant",content:u}),localStorage.setItem("basePage",JSON.stringify(l)),n.checked?A(u,"assistant",!0):w(u,"assistant",!0);const m=i.usage.prompt_tokens,g=i.usage.completion_tokens,p=i.usage.total_tokens,y=document.getElementById("outPromB"),v=document.getElementById("outComB"),f=document.getElementById("outTotB");y.textContent=m.toString(),v.textContent=g.toString(),f.textContent=p.toString(),a.scrollTop=a.scrollHeight,q()}function q(){const e=JSON.parse(localStorage.getItem("basePage"))||[];C.textContent=e.length.toString()}function H(){const e=JSON.parse(localStorage.getItem("basePage"))||[];if(e.length>0){for(const t of e)n.checked?A(t.content,t.role,"assistant"===t.role,!0):w(t.content,t.role,"assistant"===t.role,!0);M()}else{const t="–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —á–µ–º –º–æ–≥—É –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω?";n.checked?A(t,"received",!0,!0):w(t,"received",!0,!0),e.push({role:"assistant",content:t}),localStorage.setItem("basePage",JSON.stringify(e))}}k.addEventListener("click",e=>{e.preventDefault(),N()}),B.addEventListener("keydown",e=>{"Enter"===e.key&&(e.shiftKey||(B.value+="\n",e.preventDefault()))}),B.addEventListener("input",(function(){B.style.height="auto",B.style.height=B.scrollHeight+"px"})),x.addEventListener("click",()=>{localStorage.removeItem("basePage"),_=[],q(),b.innerHTML="",H()}),q();var j=document.getElementById("messageInput"),z=(document.getElementById("stopButton"),document.getElementById("submitRec")),J=(z=document.getElementById("submitRec"),document.getElementById("recordingIndicator")),W=!1;z.addEventListener("click",(function(){W?(O&&(O.stop(),O=null),z.textContent="üé§",J.style.display="none",J.classList.remove("blink"),W=!1):(!function(){(O=new webkitSpeechRecognition).continuous=!0,O.interimResults=!0,O.lang=d;var e=document.getElementById("scrollHeightPanel").scrollHeight;console.log("–í—ã—Å–æ—Ç–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏:",e),O.onstart=function(){J.style.display="inline-block"},O.onresult=function(e){var t=e.results[e.resultIndex];if(t.isFinal){var n=t[0].transcript;j.value+=n+" ",new RegExp(s,"i").test(n)&&(console.log("–ù–∞–π–¥–µ–Ω–∞ —Ñ—Ä–∞–∑–∞: ",n),N())}else console.log("–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ",t[0].transcript)},O.onerror=function(e){console.log("–û—à–∏–±–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è: ",e.error)},O.onend=function(){z.textContent="üé§",J.style.display="none",J.classList.remove("blink"),W=!1},O.start()}(),z.textContent="‚ùå",J.style.display="inline-block",J.classList.add("blink"),W=!0)})),document.getElementById("openModal_sd").addEventListener("click",(function(){document.getElementById("myModal_sd").style.display="block"}));var D=document.getElementById("myModal_sd"),R=document.getElementsByClassName("close_sd")[0];window.onclick=function(e){e.target!=D&&e.target!=R||(D.style.display="none")},document.getElementById("privacyLink_sd").addEventListener("click",(function(){document.getElementById("privacyModal_sd").style.display="block"})),document.getElementById("dataProcessingLink_sd").addEventListener("click",(function(){document.getElementById("dataProcessingModal_sd").style.display="block"})),document.getElementById("openAiLink_sd").addEventListener("click",(function(){document.getElementById("openAiModal_sd").style.display="block"}));var V=document.getElementById("privacyModal_sd"),K=document.getElementById("dataProcessingModal_sd"),U=document.getElementById("openAiModal_sd"),Q=document.getElementById("closePrivacy_sd"),G=document.getElementById("closeDataProcessing_sd"),Z=document.getElementById("closeOpenAi_sd");window.onclick=function(e){e.target!=V&&e.target!=Q||(V.style.display="none"),e.target!=K&&e.target!=G||(K.style.display="none"),e.target!=U&&e.target!=Z||(U.style.display="none")},document.getElementById("myForm_sd").addEventListener("submit",(function(e){var t=document.getElementById("privacyCheckbox_sd").checked,n=document.getElementById("dataProcessingCheckbox_sd").checked,o=document.getElementById("openAiCheckbox_sd").checked;t&&n&&o||(e.preventDefault(),alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Ñ–æ—Ä–º—ã."))})),document.querySelectorAll(".close_sd").forEach((function(e){e.addEventListener("click",(function(){e.closest(".modal_sd").style.display="none"}))}));var X=document.getElementById("butSet"),Y=0,ee=0;X.addEventListener("click",(function(e){e.preventDefault();var t=document.getElementById("name_sd").value,n=document.getElementById("email_sd").value,o=document.getElementById("phone_sd").value,a=document.querySelector('input[name="product_sd"]:checked');a&&a.value;/^([–ê-–Ø]{1}[–∞-—è—ë]{1,23}|[A-Z]{1}[a-z]{1,23})$/.test(t)?console.log("–ò–º—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç"):(Toastify({text:"–û–®–ò–ë–ö–ê –í–í–û–î–ê –î–ê–ù–ù–´–• \n –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è \n –ò–º–µ–Ω–∏!",duration:3e3,close:!0,gravity:"top",position:"center",backgroundColor:"linear-gradient(to right, #FF0000, #FFA500)",stopOnFocus:!0,className:"error-toast",textAlign:"center"}).showToast(),Y=1,console.log("–ò–º—è –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º")),/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu.test(n)?console.log("Email —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç"):(Toastify({text:"–û–®–ò–ë–ö–ê –í–í–û–î–ê –î–ê–ù–ù–´–• \n –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è \n Email!",duration:3e3,close:!0,gravity:"top",position:"center",backgroundColor:"linear-gradient(to right, #FF0000, #FFA500)",stopOnFocus:!0,className:"error-toast",textAlign:"center"}).showToast(),ee=1,console.log("Email –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º")),!function(e){return/^((8|\+374|\+994|\+995|\+375|\+7|\+380|\+38|\+996|\+998|\+993)[\- ]?)?\(?\d{3,5}\)?[\- ]?\d{1}[\- ]?\d{1}[\- ]?\d{1}[\- ]?\d{1}[\- ]?\d{1}(([\- ]?\d{1})?[\- ]?\d{1})?$/.test(e)}(o)?(Toastify({text:"–û–®–ò–ë–ö–ê –í–í–û–î–ê –î–ê–ù–ù–´–• \n –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è \n –¢–µ–ª–µ—Ñ–æ–Ω",duration:3e3,close:!0,gravity:"top",position:"center",backgroundColor:"linear-gradient(to right, #FF0000, #FFA500)",stopOnFocus:!0,className:"error-toast",textAlign:"center"}).showToast(),1,console.log("–¢–µ–ª–µ—Ñ–æ–Ω –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º")):console.log("–¢–µ–ª–µ—Ñ–æ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç");var l=document.getElementById("privacyCheckbox_sd"),c=document.getElementById("dataProcessingCheckbox_sd"),s=document.getElementById("openAiCheckbox_sd"),d=l.checked,r=c.checked,i=s.checked;if(console.log("–°–æ—Å—Ç–æ—è–Ω–∏–µ privacyCheckbox:",d),console.log("–°–æ—Å—Ç–æ—è–Ω–∏–µ dataProcessingCheckbox:",r),console.log("–°–æ—Å—Ç–æ—è–Ω–∏–µ openAiCheckbox:",i),!d||!r||!i)return Toastify({text:"–û–®–ò–ë–ö–ê –í–í–û–î–ê –î–ê–ù–ù–´–• \n –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—Ç–µ—Å—å —Å \n –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–∏—Å—Ç–≤–∞",duration:3e3,close:!0,gravity:"top",position:"center",backgroundColor:"linear-gradient(to right, #FF0000, #FFA500)",stopOnFocus:!0,className:"error-toast",textAlign:"center"}).showToast(),1,void console.log("–ü–æ–ª–∏—Ç–∏–∫–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º");1===Y?console.log("–û—à–∏–±–∫–∞ –≤ –∏–º–µ–Ω–∏"):1===ee?console.log("–û—à–∏–±–∫–∞ –≤ email"):console.log("OK")}))}]);
